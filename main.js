(()=>{"use strict";var n={951:(n,t,e)=>{e.r(t),e.d(t,{default:()=>r});const r=e.p+"main.css"},519:function(n,t,e){var r=this&&this.__awaiter||function(n,t,e,r){return new(e||(e=Promise))((function(o,i){function c(n){try{u(r.next(n))}catch(n){i(n)}}function a(n){try{u(r.throw(n))}catch(n){i(n)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(c,a)}u((r=r.apply(n,t||[])).next())}))},o=this&&this.__generator||function(n,t){var e,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(n,c)}catch(n){i=[6,n],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__spreadArray||function(n,t,e){if(e||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return n.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),e(951);var c=e(593);r(void 0,void 0,void 0,(function(){var n,t,e,a,u,s,l,f,d,h,v,p,m,w,y,b,g,x,T,k,L,M,$,_,S,H,N,j,F,P,E;return o(this,(function(W){return n=(0,c.$)(".app"),t=(0,c.$)(".overlay"),e=(0,c.$)("main"),a=(0,c.$)("main").innerHTML,u={welcome:(0,c.$)('[data-template="modal-welcome"]').innerHTML,success:(0,c.$)('[data-template="modal-success"]').innerHTML,fail:(0,c.$)('[data-template="modal-fail"]').innerHTML},t.innerHTML=u.welcome,s=!0,l=function(t){t!==s&&(s=t,t&&n.classList.add("loading"),setTimeout((function(){s?l(!0):n.classList.remove("loading")}),2e3))},f=(0,c.useWords)(l),d=f.checkWord,h=f.getRandomWord,(0,f.loadWords)().then((function(){return N()})),v=(0,c.useNotifications)(),p=v.hideNotify,m=v.notify,y=[],g={},x=function(){return(0,c.$$)("main .attempt:nth-child(".concat(k.index+1,") .char"))},T=function(n,t){return r(void 0,void 0,void 0,(function(){var r,i,u;return o(this,(function(o){switch(o.label){case 0:for(p(),y=n,w=t,e.innerHTML=a,b=(0,c.$)(".attempts",e),r="",i=0;i<6;i++){for(r+='<div class="attempt">',u=0;u<5;u++)r+='<div class="char" id="char-'.concat(i,"-").concat(u,'"><div class="front"></div><div class="back"></div></div>');r+="</div>"}return b.innerHTML=r,[4,(0,c.waitForFramePaint)()];case 1:return o.sent(),M({index:0,chars:[]}),setTimeout((function(){(0,c.$$)("[data-key]",e).forEach((function(n){g[n.dataset.key]=n}))}),10),[2]}}))}))},k={chars:[],index:0},L=function(n){var t=(0,c.$)("#char-".concat(k.index,"-").concat(k.chars.length));(0,c.$)(".front",t).innerText=n||"",(0,c.$)(".back",t).innerText=n||""},M=function(n){k=n},$=!1,_=function(n){return void 0===n&&(n=300),r(void 0,void 0,void 0,(function(){var t,e,a;return o(this,(function(u){switch(u.label){case 0:return $=!0,e=(t=Promise).all,a=[i([],x().map((function(t,e){return r(void 0,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,(0,c.waitFor)(n*e)];case 1:return r.sent(),t.classList.add("flip"),[2]}}))}))})),!0)],[4,(0,c.waitFor)(7*n)];case 1:return[4,e.apply(t,[i.apply(void 0,a.concat([[u.sent()],!1]))])];case 2:return u.sent(),$=!1,[2]}}))}))},H=function(n){void 0===n&&(n="cell"),S&&clearTimeout(S);var t=x();"row"!==n&&(t=[t[0]]),t.forEach((function(n){return n.classList.add("horizontal-shake")})),S=setTimeout((function(){t.forEach((function(n){return n.classList.remove("horizontal-shake")}))}),500)},N=function(){return r(void 0,void 0,void 0,(function(){var n;return o(this,(function(t){switch(t.label){case 0:return[4,h()];case 1:return n=t.sent(),[2,T(n.word.split(""),n)]}}))}))},j=function(){(null==w?void 0:w.meanings)&&setTimeout((function(){(0,c.$)("[data-definition]",t).innerHTML="<h3>".concat(y.join(""),'</h3>\n<ul class="meanings">\n    ').concat(null==w?void 0:w.meanings.map((function(n){return'    \n    <li>\n        <p class="part-of-speech"><span>'.concat(n.partOfSpeech,"</span></p>\n        <ol>\n            ").concat(n.definitions.map((function(n){return"\n            <li>\n                <p>".concat(n.definition,"</p>\n                ").concat(n.example?'<p class="example">"'.concat(n.example,'"</p>'):"","\n            </li>")})).join(""),"\n        </ol>\n    </li>")})).join(""),"\n</ul>")}),1)},F=function(){return r(void 0,void 0,void 0,(function(){var n,e,r;return o(this,(function(o){switch(o.label){case 0:return k.chars.length<5?(H(),m("Not enough letters"),[2]):[4,d(k.chars.join(""))];case 1:return o.sent()?(n=0,e={},r=x(),k.chars.forEach((function(t,o){y[o]===t?(e[t]="green",r[o].classList.add("green"),n++):y.includes(t)?(e[t]=e[t]||"yellow",r[o].classList.add("yellow")):e[t]=e[t]||"none"})),[4,_()]):(H("row"),m("Not in word list"),[2]);case 2:return o.sent(),Object.entries(e).forEach((function(n){var t=n[0],e=n[1];g[t].classList.add(e)})),5===n?(t.innerHTML=u.success,setTimeout((function(){(0,c.$)("[data-attempt-text]",t).innerText=" ".concat(k.index," ").concat(k.index?"attempts":"attempt")}),1),j(),N()):k.index+1===6&&(t.innerHTML=u.fail,j(),N()),M({chars:[],index:k.index+1}),[2]}}))}))},P=function(n){$||g[n]&&("backspace"!==n?"enter"!==n?(5===k.chars.length&&k.chars.pop(),L(n),k.chars.push(n),M(k)):F():k.chars.length?(k.chars.pop(),L(""),M(k)):H())},E=function(n){return r(void 0,void 0,void 0,(function(){var e,r;return o(this,(function(o){return $||"a"===(e=n.target).nodeName.toLowerCase()?[2]:(n.preventDefault(),e.blur(),"h1"===e.nodeName.toLowerCase()?(t.innerHTML=u.welcome,[2]):"closeModal"===e.dataset.action?(t.innerHTML="",[2]):((r=e.dataset.key)&&P(r),[2]))}))}))},n.addEventListener("click",E),t.addEventListener("click",(function(){t.innerHTML=""})),window.addEventListener("keyup",(function(n){return P(n.key.toLowerCase())})),[2]}))})),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/serviceWorker.js").then((function(n){return console.log("service worker registered")})).catch((function(n){return console.log("service worker not registered",n)}))}))},593:function(n,t){var e=this&&this.__awaiter||function(n,t,e,r){return new(e||(e=Promise))((function(o,i){function c(n){try{u(r.next(n))}catch(n){i(n)}}function a(n){try{u(r.throw(n))}catch(n){i(n)}}function u(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(c,a)}u((r=r.apply(n,t||[])).next())}))},r=this&&this.__generator||function(n,t){var e,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(n,c)}catch(n){i=[6,n],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.cookieSet=t.cookieGet=t.useNotifications=t.waitForFramePaint=t.waitFor=t.useWords=t.randomNumber=t.useFetch=t.$=t.$$=void 0,t.$$=function(n,t){return void 0===t&&(t=document),Array.from(t.querySelectorAll(n))},t.$=function(n,t){return void 0===t&&(t=document),t.querySelector(n)},t.useFetch=function(n){return{getJson:function(t){return e(void 0,void 0,void 0,(function(){return r(this,(function(o){return n(!0),[2,window.fetch(t).then((function(n){return n.json()})).then((function(t){return e(void 0,void 0,void 0,(function(){return r(this,(function(e){return n(!1),[2,t]}))}))})).catch((function(){return null}))||null]}))}))},getText:function(t){return e(void 0,void 0,void 0,(function(){return r(this,(function(o){return n(!0),[2,window.fetch(t).then((function(n){return n.text()})).then((function(t){return e(void 0,void 0,void 0,(function(){return r(this,(function(e){return n(!1),[2,t]}))}))})).catch((function(){return null}))||null]}))}))}}},t.randomNumber=function(n,t){return Math.floor(Math.random()*(t-n)+n)},t.useWords=function(n){var o=(0,t.useFetch)(n),i=o.getText,c=o.getJson,a=[];return{loadWords:function(){return i("https://iambrian.com/sordle-words/5-letter-words.txt").then((function(n){a.push.apply(a,n.split("\n"))}))},getRandomWord:function(){return e(void 0,void 0,void 0,(function(){var n;return r(this,(function(e){switch(e.label){case 0:return n=a[(0,t.randomNumber)(0,7435)],[4,c("https://iambrian.com/sordle-words/5-letter-words/"+n+".json")];case 1:return[2,e.sent()[0]]}}))}))},checkWord:function(n){return a.includes(n)}}},t.waitFor=function(n){return e(void 0,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t){setTimeout((function(){t()}),n)}))];case 1:return[2,t.sent()]}}))}))},t.waitForFramePaint=function(){return e(void 0,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){requestAnimationFrame((function(){var t=new MessageChannel;t.port1.onmessage=n,t.port2.postMessage(void 0)}))}))];case 1:return[2,n.sent()]}}))}))},t.useNotifications=function(){var n,e=(0,t.$)(".notify"),r=function(){e.style.opacity="0",n=setTimeout((function(){e.innerHTML=""}),200)};return{notify:function(t,o){void 0===o&&(o=!0),n&&clearTimeout(n),e.innerHTML=t,setTimeout((function(){e.style.opacity="1"}),1),o&&(n=setTimeout((function(){r()}),1500))},hideNotify:r}},t.cookieGet=function(n){var t,e=(null===(t=document.cookie.match(new RegExp("(^| )__sordle__".concat(n,"=([^;]+)"))))||void 0===t?void 0:t[2])||"";try{return JSON.parse(decodeURIComponent(e))}catch(n){return null}},t.cookieSet=function(n,t){var e=encodeURIComponent(JSON.stringify(t));document.cookie="__sordle__".concat(n,"=").concat(e,"; SameSite=None; Secure")}}},t={};function e(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return n[r].call(i.exports,i,i.exports,e),i.exports}e.d=(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),e.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.p="",e(519)})();