(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&c(r)}).observe(document,{childList:!0,subtree:!0});function s(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function c(t){if(t.ep)return;t.ep=!0;const a=s(t);fetch(t.href,a)}})();const j=(n,e=document)=>{const s=Array.from(e.querySelectorAll(n));if(!s)throw new Error(`Element not found: ${n}`);return s},u=(n,e=document)=>{const s=e==null?void 0:e.querySelector(n);if(!s)throw new Error(`Element not found: ${n}`);return s},K=n=>({getJson:async c=>(n(!0),window.fetch(c).then(t=>t.json()).then(async t=>(n(!1),t)).catch(()=>null)||null),getText:async c=>(n(!0),window.fetch(c).then(t=>t.text()).then(async t=>(n(!1),t)).catch(()=>null)||null)}),z=(n,e)=>Math.floor(Math.random()*(e-n)+n),_=n=>{const{getText:e,getJson:s}=K(n),c=[];return{loadWords:async()=>{let d=localStorage.getItem("sordle:words");d||(d=await e("https://iambrian.com/sordle-words/5-letter-words.txt"),d&&localStorage.setItem("sordle:words",d)),d&&c.push(...d.split(`
`))},getRandomWord:async()=>{const d=c[z(0,c.length-1)];return(await s("https://iambrian.com/sordle-words/5-letter-words/"+d+".json"))[0]},checkWord:d=>c.includes(d)}},A=async n=>await new Promise(e=>{setTimeout(()=>{e()},n)}),G=async()=>await new Promise(n=>{requestAnimationFrame(()=>{const e=new MessageChannel;e.port1.onmessage=n,e.port2.postMessage(void 0)})});function X(){const n=u(".notify");let e;const s=()=>{n.style.opacity="0",e=setTimeout(()=>{n.innerHTML=""},200)};return{notify:(t,a=!0)=>{e&&clearTimeout(e),n.innerHTML=t,setTimeout(()=>{n.style.opacity="1"},1),a&&(e=setTimeout(()=>{s()},1500))},hideNotify:s}}const F=6,y=5;function B(){const n=u(".app"),e=u(".overlay"),s=u("main"),c=u("main").innerHTML,t={welcome:u('[data-template="modal-welcome"]').innerHTML,success:u('[data-template="modal-success"]').innerHTML,fail:u('[data-template="modal-fail"]').innerHTML};e.innerHTML=t.welcome;let a,r=!0;const d=o=>{o!==r&&(r=o,o&&n.classList.add("loading"),a&&clearInterval(a),a=setTimeout(()=>{if(!r){n.classList.remove("loading");return}d(!0)},2e3))},{checkWord:W,getRandomWord:S,loadWords:C}=_(d);C().then(()=>x());const{hideNotify:q,notify:N}=X();let h,L=[],b;const $={};let v=()=>j(`main .attempt:nth-child(${f.index+1}) .char`);const I=async(o,i)=>{q(),L=o,h=i,s.innerHTML=c,b=u(".attempts",s);let l="";for(let m=0;m<F;m++){l+='<div class="attempt">';for(let p=0;p<y;p++)l+=`<div class="char" id="char-${m}-${p}"><div class="front"></div><div class="back"></div></div>`;l+="</div>"}b.innerHTML=l,await G(),g({index:0,chars:[]}),setTimeout(()=>{j("[data-key]",s).forEach(m=>{m.dataset.key&&($[m.dataset.key]=m)})},10)};let f={chars:[],index:0};const k=o=>{const i=u(`#char-${f.index}-${f.chars.length}`);u(".front",i).innerText=o||"",u(".back",i).innerText=o||""},g=o=>{f=o};let T=!1;const R=async(o=300)=>{T=!0,await Promise.all([...v().map(async(i,l)=>{await A(o*l),i.classList.add("flip")}),await A(o*(y+2))]),T=!1};let M;const E=(o="cell")=>{M&&clearTimeout(M);let i=v();o!=="row"&&(i=[i[0]]),i.forEach(l=>l.classList.add("horizontal-shake")),M=setTimeout(()=>{i.forEach(l=>l.classList.remove("horizontal-shake"))},500)},x=async()=>{const o=await S();return I(o.word.split(""),o)},O=()=>{h!=null&&h.meanings&&setTimeout(()=>{u("[data-definition]",e).innerHTML=`<h3>${L.join("")}</h3>
<ul class="meanings">
    ${h==null?void 0:h.meanings.map(o=>{var i;return`    
    <li>
        <p class="part-of-speech"><span>${o.partOfSpeech}</span></p>
        <ol>
            ${(i=o.definitions)==null?void 0:i.map(l=>`
            <li>
                <p>${l.definition}</p>
                ${l.example?`<p class="example">"${l.example}"</p>`:""}
            </li>`).join("")}
        </ol>
    </li>`}).join("")}
</ul>`},1)},D=async()=>{if(f.chars.length<y){E(),N("Not enough letters");return}if(!await W(f.chars.join(""))){E("row"),N("Not in word list");return}let i=0;const l={},m=v();f.chars.forEach((p,w)=>{m[w].classList.remove("green","yellow","none");const H=Q(p,w,L,f.chars);l[p]=H,m[w].classList.add(H),H==="green"&&i++}),await R(),Object.entries(l).forEach(([p,w])=>{$[p].classList.add(w)}),i===y?(e.innerHTML=t.success,setTimeout(()=>{u("[data-attempt-text]",e).innerText=` ${f.index} ${f.index?"attempts":"attempt"}`},1),O(),x()):f.index+1===F&&(e.innerHTML=t.fail,O(),x()),g({chars:[],index:f.index+1})},P=o=>{if(!T&&$[o]){if(o==="backspace"){f.chars.length?(f.chars.pop(),k(""),g(f)):E();return}if(o==="enter"){D();return}f.chars.length===y&&f.chars.pop(),k(o),f.chars.push(o),g(f)}},J=async o=>{if(T)return;const i=o.target;if(i.nodeName.toLowerCase()==="a")return;if(o.preventDefault(),i.blur(),i.nodeName.toLowerCase()==="h1"){e.innerHTML=t.welcome;return}if(i.dataset.action==="closeModal"){e.innerHTML="";return}const l=i.dataset.key;l&&P(l)};n.addEventListener("click",J),e.addEventListener("click",()=>{e.innerHTML=""}),window.addEventListener("keyup",o=>P(o.key.toLowerCase()))}function Q(n,e,s,c){if(s[e]===n)return"green";if(s.includes(n)){const t={};for(let r=0;r<s.length;r++){const d=s[r];t[d]=(t[d]||0)+1}for(let r=0;r<c.length;r++)s[r]===c[r]&&(t[c[r]]=(t[c[r]]||1)-1);const a={};for(let r=0;r<=e;r++){if(s[r]===c[r])continue;const d=c[r];a[d]=(a[d]||0)+1}if(a[n]<=(t[n]||0))return"yellow"}return"none"}B();
